<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Title</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/pizza-style.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>

</body>
<script>
    $("#editPizzaForm").submit(function(event) {
        event.preventDefault();
        const name = $("#name").val();
        const price = $("#price").val();
        const description = $("#description").val();
        const imagePath = $("#pizza-image")[0].files[0];

        const formData = new FormData();
        formData.append("name", name);
        formData.append("price", price);
        formData.append("description", description);
        formData.append("imagePath", imagePath);

        $.ajax({
            url : "/api/pizzas",
            method : "Post",
            data : formData,
            contentType : false,
            processData : false,
            success : function(data) {
                alert("피자 메뉴를 성공적으로 추가했습니다.");
                // 메뉴 추가됐을 때 이동할 겨올 설정
                // 1. 피자 목록 2. 피자 상세보기
                window.location.href = "/";
            },
            error : function() {
                alert("현재 데이터를 추가할 수 없습니다.");
            }
        })
    })

</script>
</html>